# Relatório de Implementação: Sistema de Gestão de Investimentos NexusTeam

## 1. Introdução

O presente relatório detalha a implementação do sistema NexusBank, uma plataforma de gestão de ativos e carteiras de investimentos desenvolvida em Java. O objetivo principal do sistema é permitir o controle de diferentes tipos de ativos financeiros e a gestão de perfis de investidores, garantindo a conformidade com regras de mercado e perfis de risco.

## 2. Arquitetura e Modelagem de Dados

O sistema foi construído utilizando os pilares da Orientação a Objetos (OO): Herança, Abstração, Encapsulamento e Polimorfismo. A organização do código foi dividida em pacotes semânticos como Ativos, Investidor, Carteira, Mercado e Erros.

### 2.1. Hierarquia de Ativos

A classe abstrata Ativos serve como base para todos os produtos financeiros. A implementação utiliza interfaces para definir comportamentos específicos:

Interfaces de Renda: RendaFixa e RendaVariavel.

Interfaces de Origem: Nacional e Internacional (esta última incluindo suporte para conversão de moeda baseada na cotação do dólar).

Tipos Implementados:

- Ações: Possuem lógica interna para definir o tipo (Ordinária, Preferencial ou Unit) com base no final do ticker.

- FIIs: Implementam a interface TaxaPorcentagem para exibição obrigatória de taxas de administração.

- Tesouro: Focado em renda fixa com datas de vencimento.

- Criptomoedas e Stocks: Representam ativos internacionais com campos específicos como algoritmo de consenso e bolsa de negociação.

### 2.2. Gestão de Investidores

A estrutura de investidores diferencia Pessoa Física (PF) de Pessoa Jurídica (PJ):

- Pessoa Física: Segmentada por perfis de risco (Conservador, Moderado, Arrojado). O sistema bloqueia automaticamente a compra de ativos de alto risco (como Criptomoedas) para perfis incompatíveis.

- Pessoa Jurídica: Possui liberdade total de movimentação, independentemente do tipo de ativo.

- Regra de Qualificação: Investidores com patrimônio inferior a R$ 1.000.000,00 são impedidos de adquirir ativos marcados como "exclusivos para investidores qualificados".

## 3. Funcionalidades Principais

### 3.1. Gestão de Carteira e Movimentações

Cada investidor possui uma Carteira que armazena ItemCarteira. O sistema gerencia:

- Compras e Vendas: Atualiza quantidades e preços médios.

- Validação de Saldo: Impede a venda de ativos que o investidor não possui em quantidade suficiente.

- Cálculos de Exposição: Gera percentuais em tempo real de Renda Fixa vs. Variável e ativos Nacionais vs. Internacionais.

### 3.2. Processamento em Lote

O sistema utiliza a classe LeitorLotes para processar arquivos CSV. Isso permite a importação massiva de investidores, ativos e movimentações históricas, facilitando a carga inicial de dados.

### 3.3. Persistência e Relatórios

Logs de Transações: Todas as movimentações são registradas em arquivos CSV individuais por investidor na pasta movimentacoes.

Relatórios JSON: O sistema exporta o estado atual da carteira de um investidor para o formato JSON, permitindo a interoperabilidade com outros sistemas ou auditoria manual.

## 4. Robustez e Tratamento de Erros

Foi implementada uma hierarquia de exceções personalizadas para garantir a estabilidade:

- DadosInvalidosException: Captura erros de entrada e violações de regras de negócio.

- ErrosLeituraArq: Gerencia falhas no acesso a sistemas de arquivos ou inconsistências nos CSVs.

- ErrosNumbersFormato: Especialização para tratar erros de parsing numérico de forma amigável ao usuário.

## 5. Interface do Usuário

A interação ocorre via console através da classe Menu, que oferece navegação intuitiva dividida em submenus de ativos e investidores. Inclui recursos visuais simples (cores via ANSI) e animações de carregamento para melhorar a experiência do usuário.

## 6. Conclusão

A implementação cumpre integralmente os requisitos propostos, apresentando um código limpo, modular e de fácil manutenção. O uso rigoroso de encapsulamento e a separação de responsabilidades garantem que novas regras de mercado possam ser adicionadas ao sistema com impacto mínimo na estrutura existente.

# Diagrama de Classes
[![](https://mermaid.ink/img/pako:eNrlW-9u2zgSfxXBRYG0cYKmSf-sUQRQbKX1wo69tmsUu1kEjMS4vEqiS0pBtt0GuE_7BPcMi7uvh3uCvNgNSf2hJFJ2ivYOh8uXKJrfDIfDmeEMqXzu-DTAnV7HDxHnA4JWDEXnsQM_Dx86Hk8ww3f_TMiacgc7A3xFYnL3592_MHcC7CwJJ5ckJAEKcM_ZdabpZUj8rrPnTBm5RgnuOg_gkSbYT3DQdW6dKfI_oBVWIxTj7O3tOSejSX_Sc4ZnC2926va9uXirEFI35wz5hMYodD6rt-Ln1SsSg4pXyMfHx-XrW4cnKCG-c0lpiFHseG8uztz-cHLmjkrUrrPCSS5VzmHnUc6hUF_08YdipPhbK1GgrkKKEqc_Wbh9d3IxmIzc2X1UVSifxteYgTJTxNAMoxBg15QEhunMcBygU3KD7jOVecJIvHJm3tnAvTgdvnNrKi7AUaRgGFdhbSMvESPoGodfPfrSnQ3dpTf6Gg0W6AZNKfNxnIAzRlvosOvgG3B1JjjdIIIo4AlDPqJ2A_cpw3yMYw5DxPyr5jn3Fnby0puNvdGbSSti4NnJ7tideaMWfvfntyM7tT90z1qYZ5O520Z9t0nxiz6EQAvoZOae9SeF4U3JxF0Ml5O5s_PGA-zdH-6jek5xE3JNa2uDLuXSJvrSPMgHjWmE9dcqatcM-1R_nYf8xxTC9Yr4KKBNX5KDV_xH82L_A2Y1Fy4TAShho02FKkCUiuk0TRVz7uCZYCW2qRYv1GpBqOFPxeBG-k-aFpkOddwDB1KYxICFGLlME8qXIutRblYcByTRsAb1CvfIVt2nuLLoe_nyio1Ofx3IDU_kFOtabE7KLVlJs2wOsBm33We-t8lOCTFbjONVBGm0YjUVFGmYkIgOyDUJYGK0ZpF5xmez69sqt8mjhV2zdMw5MkK4NlCL19YHu7L6b2VAC2xjdH8Ln9lmO_rPuMYCc5oyao0nMQdS85HKBEmrIwxQgpY49ltQvCGrZa1r8szILPKxRex3ywT_3SCfJ9T_YA7zSxpydIZX1CfCzWqTOqlSbUs5xwllthWsy2hZQiXHBvgWlfL_xHL1GVknNKI4QOZFgzlyKD0ruTmkQPiYBGN0U5tqP0PbVu8nyQRUIaK2IgVvy6pl_IL7_3LRslrz1e9Qn8oKpPla7LLNt1mCbRJUvDbf645RjC5rnv3934-LRrpBqDRmiir3fQNX-b6VqdZoKXK-YRjEVkhFh6poWXaSpEov3iQbdKoEi01GE1STZD6xWHrzxXAwmTmeA0-zt4u3M7feaQzBc3kCjsQ2dxt75m5jz_HiAIsC28HZQ2XHoulliJ01At6IxqRC7CMIG8KQ42cP1bCK1gyxHeVDXVVGdTOBphARo1fRtiooH9cQaWsa4H5l5EePTSGWUGWNe3dDmxoa4B0GNk6gtPAtcIivaGwdt6C3yBCFyBniGwqbGqpFXu4cIMlruIeUVSDyB6OcaeFAIEn5QL3JKxE2HxH7Sbn0_YrT1baxKeacQpxzyLrGbWyN2RUJN7jO13jOVAq2WT6jbtyGlf4_powEthkw9AnRuahsvsc0ZqV021x0yMYJFVnGOJUU6W9JnDhxGmFWLwlnKbLp2893eCPV44k6ojDz4rWNdIIIY_Y-XSoJVNC4bpwUtdUtmbotiEzlNhmgdgs5U70FkakPyrcVhHmSryzcCHrD22GCo5x86yDpbPoQKAhURbTlHsBwRKFUUjxKb-tOcI1CyhY0QaGWEpqJpYS9RjwxJ591WUsU1UG-OxcMv_xqYclrjcrOb2HbuH2BTylbAa1pYuP66IjqGmXVm1yX5kkKlOuGjV7aa4pWVNqsptpSEN0kRaGkGo2JIF8JEzCVg3a2W_KlLKwtS50bBcZzGz6megjLSc6yMhujvoAapT6jU4b_kpJPdQ8pjK2VWrIc1jeYNkSewhuY887Becd5DED1VCTIHngX5ynZyFGses8JcHL396wSLl7r-MfwVPGUnuh7SqYKTTHSYqDMkXqwWlegYwwZ31a1ns7cslr1nLeL4Wi4uPvrbDhpXL2NMRMntoa8osa7dUL4A6k_tN6mHVh2O-24rCnYCqsq-K2gevdUOpikixnkYZ1xmnBiAlvAcv23gGbqb4FU2luBotH3oXH9hARdT-12DpTenKTcR9WkLrecejDvifzIE1y7EGgUL1KoK4KKVrcXi1ToThheIXaCOB7gAVJ9d_1sTi4ik2bgSobH19gXfTvd0WfXTFCKVZGhMZUn-7VNVQEv65YwZTQlbUFBzWIv2GKnbIKQZqLc8NaLgOzIQTenDZvbU-FGNMHVdbWWEmMcp9Vwzy7f8lQQqd8GhNoMi1x4CyPlz9W8kF_n-SiOMXO4-m1A5LdpYntErFIZKQBLY4ObZEQikiBzYxLJc0XLrVMBRxnQi6EvD5BdrqoQhKGmTIyxNhxHlVKz-moYB-KWIaV2KBeBFSEZinYUtIPpTHctu56av7SK6ytnkY2mdJVWtAgdT5ggd1zejt8GM9Q8xY4Ev0Pi0ISVcDtYheh2gmXMa1hvAq0nYu06S4zYMDRtykcrK8MyO-e11z04VAG2BQO-8cOU6POJ2pdVecr95tEYRBadFc5Kx1W6OQohmGc4RAllhP7IabzNeIbFb58URN6YXsvjExHWEmwep36vBYmCG3NgTFmUrd576Dys10IGBlnmbmYIMVMd32sMKZH4RdY-TWM_gaK9TPkLA_saMY5BwKUQE4YIauQFjtZgaryzv79fYdotLbuG5Qctccs9V4a9lsf01RP7IrFauQJx9Sbh9oqhAGMuAst6FZvpTGNwBvC_MVqjPrrEUPO8b26hQDUw00toA_soWucMv_zaFdCSzzoTaWD5lUNu32JGp407aI1lRONVg2NEjWMUPiDaVaIdD9RPMGrwAVRCkXbOYzjCyzbGYETKyTc-l6p-srWSN8zMGA_Z0dB4srwYDGcXU3fxxo7KRt0sJjtXfy2_h7PIBEmMRKJPz5Z-AQ8h2lBDNdhHJH6PTkWQJqhwTuENG_jzy6LXDF1XT4msnsNyS26royozsgWw31cb0VmeW9lPpyyMojRGq5qKG1UNcIgTVB89sN7V1hmhkEa8TNYUm-rpgoWLDoflcCquBOeYtU-55tYjTBK1f_A2xy5veLz5Fh4ODjwce2cLtz8x4rWMq6rzSnVSZIVaGW1KKYz6mHMkZ1C1W75ipYBuXrq3Vf3aRmk8_a2unvaRh85p4oM0TZKUmKmJ7CJdy-FXiuJEBpfpskscw3g32E9rkkei-x0g0aFGWG481o8XLHdA2T2yPjEbbljOzi6qmKL1fr2YqOWIbKpP1nZCJu6LykxmGqr1OiGh_flyp3UvGCMS686x60TwpkiaRvd6-NCZqfI1_3gcOcU3sLUvZRWHbEDlFayJWu5HVkjeqFoBqr6zkgvFB3gNFffdP0QbKT6CBxsIRyq_gr8K05vMqaRt9vePlfo9mCORJ3DajI4LzXpOmhBhkxpdKWajllO3IfSspmFMp4Deu75398fd35pf28uzF8ge6uMH78bHa1F3Vi-vcf46v72ufADtMUa5UCZlyGUf782qCliuvJnel10e8rN0XUtl27CKuD9D4pyZQ-TjzezqoT5fq2uZxmgF103RCtYnvsG79TA6ti55zwlRfPdn5ma6dwmu-qxLdKfbWTESdHpQoeNuB2pTSBTwZ0fa87yTvMcRPu_04DFA7MN55zz-AjxrFP9MaZSzMZqu3nd6Vyjk8Fe6hlyOs_9TKSDyg4Q-TeOk03v-8qWU0el97tx0enuHB0_3nz4_ePLkxdGLp0fPD54edTu_dXoHB_sHh0fPDw8Pfzh49uTwh6Mv3c4nOezB_rOXzw-eHR0eHRy-ePoSnrod0RlTqDXUv8qIX1_-Db4EIZo?type=png)](https://mermaid.live/edit#pako:eNrlW-9u2zgSfxXBRYG0cYKmSf-sUQRQbKX1wo69tmsUu1kEjMS4vEqiS0pBtt0GuE_7BPcMi7uvh3uCvNgNSf2hJFJ2ivYOh8uXKJrfDIfDmeEMqXzu-DTAnV7HDxHnA4JWDEXnsQM_Dx86Hk8ww3f_TMiacgc7A3xFYnL3592_MHcC7CwJJ5ckJAEKcM_ZdabpZUj8rrPnTBm5RgnuOg_gkSbYT3DQdW6dKfI_oBVWIxTj7O3tOSejSX_Sc4ZnC2926va9uXirEFI35wz5hMYodD6rt-Ln1SsSg4pXyMfHx-XrW4cnKCG-c0lpiFHseG8uztz-cHLmjkrUrrPCSS5VzmHnUc6hUF_08YdipPhbK1GgrkKKEqc_Wbh9d3IxmIzc2X1UVSifxteYgTJTxNAMoxBg15QEhunMcBygU3KD7jOVecJIvHJm3tnAvTgdvnNrKi7AUaRgGFdhbSMvESPoGodfPfrSnQ3dpTf6Gg0W6AZNKfNxnIAzRlvosOvgG3B1JjjdIIIo4AlDPqJ2A_cpw3yMYw5DxPyr5jn3Fnby0puNvdGbSSti4NnJ7tideaMWfvfntyM7tT90z1qYZ5O520Z9t0nxiz6EQAvoZOae9SeF4U3JxF0Ml5O5s_PGA-zdH-6jek5xE3JNa2uDLuXSJvrSPMgHjWmE9dcqatcM-1R_nYf8xxTC9Yr4KKBNX5KDV_xH82L_A2Y1Fy4TAShho02FKkCUiuk0TRVz7uCZYCW2qRYv1GpBqOFPxeBG-k-aFpkOddwDB1KYxICFGLlME8qXIutRblYcByTRsAb1CvfIVt2nuLLoe_nyio1Ofx3IDU_kFOtabE7KLVlJs2wOsBm33We-t8lOCTFbjONVBGm0YjUVFGmYkIgOyDUJYGK0ZpF5xmez69sqt8mjhV2zdMw5MkK4NlCL19YHu7L6b2VAC2xjdH8Ln9lmO_rPuMYCc5oyao0nMQdS85HKBEmrIwxQgpY49ltQvCGrZa1r8szILPKxRex3ywT_3SCfJ9T_YA7zSxpydIZX1CfCzWqTOqlSbUs5xwllthWsy2hZQiXHBvgWlfL_xHL1GVknNKI4QOZFgzlyKD0ruTmkQPiYBGN0U5tqP0PbVu8nyQRUIaK2IgVvy6pl_IL7_3LRslrz1e9Qn8oKpPla7LLNt1mCbRJUvDbf645RjC5rnv3934-LRrpBqDRmiir3fQNX-b6VqdZoKXK-YRjEVkhFh6poWXaSpEov3iQbdKoEi01GE1STZD6xWHrzxXAwmTmeA0-zt4u3M7feaQzBc3kCjsQ2dxt75m5jz_HiAIsC28HZQ2XHoulliJ01At6IxqRC7CMIG8KQ42cP1bCK1gyxHeVDXVVGdTOBphARo1fRtiooH9cQaWsa4H5l5EePTSGWUGWNe3dDmxoa4B0GNk6gtPAtcIivaGwdt6C3yBCFyBniGwqbGqpFXu4cIMlruIeUVSDyB6OcaeFAIEn5QL3JKxE2HxH7Sbn0_YrT1baxKeacQpxzyLrGbWyN2RUJN7jO13jOVAq2WT6jbtyGlf4_powEthkw9AnRuahsvsc0ZqV021x0yMYJFVnGOJUU6W9JnDhxGmFWLwlnKbLp2893eCPV44k6ojDz4rWNdIIIY_Y-XSoJVNC4bpwUtdUtmbotiEzlNhmgdgs5U70FkakPyrcVhHmSryzcCHrD22GCo5x86yDpbPoQKAhURbTlHsBwRKFUUjxKb-tOcI1CyhY0QaGWEpqJpYS9RjwxJ591WUsU1UG-OxcMv_xqYclrjcrOb2HbuH2BTylbAa1pYuP66IjqGmXVm1yX5kkKlOuGjV7aa4pWVNqsptpSEN0kRaGkGo2JIF8JEzCVg3a2W_KlLKwtS50bBcZzGz6megjLSc6yMhujvoAapT6jU4b_kpJPdQ8pjK2VWrIc1jeYNkSewhuY887Becd5DED1VCTIHngX5ynZyFGses8JcHL396wSLl7r-MfwVPGUnuh7SqYKTTHSYqDMkXqwWlegYwwZ31a1ns7cslr1nLeL4Wi4uPvrbDhpXL2NMRMntoa8osa7dUL4A6k_tN6mHVh2O-24rCnYCqsq-K2gevdUOpikixnkYZ1xmnBiAlvAcv23gGbqb4FU2luBotH3oXH9hARdT-12DpTenKTcR9WkLrecejDvifzIE1y7EGgUL1KoK4KKVrcXi1ToThheIXaCOB7gAVJ9d_1sTi4ik2bgSobH19gXfTvd0WfXTFCKVZGhMZUn-7VNVQEv65YwZTQlbUFBzWIv2GKnbIKQZqLc8NaLgOzIQTenDZvbU-FGNMHVdbWWEmMcp9Vwzy7f8lQQqd8GhNoMi1x4CyPlz9W8kF_n-SiOMXO4-m1A5LdpYntErFIZKQBLY4ObZEQikiBzYxLJc0XLrVMBRxnQi6EvD5BdrqoQhKGmTIyxNhxHlVKz-moYB-KWIaV2KBeBFSEZinYUtIPpTHctu56av7SK6ytnkY2mdJVWtAgdT5ggd1zejt8GM9Q8xY4Ev0Pi0ISVcDtYheh2gmXMa1hvAq0nYu06S4zYMDRtykcrK8MyO-e11z04VAG2BQO-8cOU6POJ2pdVecr95tEYRBadFc5Kx1W6OQohmGc4RAllhP7IabzNeIbFb58URN6YXsvjExHWEmwep36vBYmCG3NgTFmUrd576Dys10IGBlnmbmYIMVMd32sMKZH4RdY-TWM_gaK9TPkLA_saMY5BwKUQE4YIauQFjtZgaryzv79fYdotLbuG5Qctccs9V4a9lsf01RP7IrFauQJx9Sbh9oqhAGMuAst6FZvpTGNwBvC_MVqjPrrEUPO8b26hQDUw00toA_soWucMv_zaFdCSzzoTaWD5lUNu32JGp407aI1lRONVg2NEjWMUPiDaVaIdD9RPMGrwAVRCkXbOYzjCyzbGYETKyTc-l6p-srWSN8zMGA_Z0dB4srwYDGcXU3fxxo7KRt0sJjtXfy2_h7PIBEmMRKJPz5Z-AQ8h2lBDNdhHJH6PTkWQJqhwTuENG_jzy6LXDF1XT4msnsNyS26royozsgWw31cb0VmeW9lPpyyMojRGq5qKG1UNcIgTVB89sN7V1hmhkEa8TNYUm-rpgoWLDoflcCquBOeYtU-55tYjTBK1f_A2xy5veLz5Fh4ODjwce2cLtz8x4rWMq6rzSnVSZIVaGW1KKYz6mHMkZ1C1W75ipYBuXrq3Vf3aRmk8_a2unvaRh85p4oM0TZKUmKmJ7CJdy-FXiuJEBpfpskscw3g32E9rkkei-x0g0aFGWG481o8XLHdA2T2yPjEbbljOzi6qmKL1fr2YqOWIbKpP1nZCJu6LykxmGqr1OiGh_flyp3UvGCMS686x60TwpkiaRvd6-NCZqfI1_3gcOcU3sLUvZRWHbEDlFayJWu5HVkjeqFoBqr6zkgvFB3gNFffdP0QbKT6CBxsIRyq_gr8K05vMqaRt9vePlfo9mCORJ3DajI4LzXpOmhBhkxpdKWajllO3IfSspmFMp4Deu75398fd35pf28uzF8ge6uMH78bHa1F3Vi-vcf46v72ufADtMUa5UCZlyGUf782qCliuvJnel10e8rN0XUtl27CKuD9D4pyZQ-TjzezqoT5fq2uZxmgF103RCtYnvsG79TA6ti55zwlRfPdn5ma6dwmu-qxLdKfbWTESdHpQoeNuB2pTSBTwZ0fa87yTvMcRPu_04DFA7MN55zz-AjxrFP9MaZSzMZqu3nd6Vyjk8Fe6hlyOs_9TKSDyg4Q-TeOk03v-8qWU0el97tx0enuHB0_3nz4_ePLkxdGLp0fPD54edTu_dXoHB_sHh0fPDw8Pfzh49uTwh6Mv3c4nOezB_rOXzw-eHR0eHRy-ePoSnrod0RlTqDXUv8qIX1_-Db4EIZo)
